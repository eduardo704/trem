<div *ngIf="carregando;else loading">
  <div class="row" *ngIf="!(user | async); else loggedin">
    <div class="col-lg-6 col-lg-offset-3">
      <div class="panel panel-default">
        <div class="panel-body">
          <form novalidate [formGroup]="form" class="form-horizontal">
            <fieldset>
              <legend>Login</legend>
              <div class="form-group">
                <label for="inputEmail" class="col-lg-2 control-label">Email</label>
                <div class="col-lg-10">
                  <input formControlName="userName" type="text" class="form-control" id="inputEmail" placeholder="Email">
                </div>
              </div>
              <div class="form-group">
                <label for="inputPassword" class="col-lg-2 control-label">Password</label>
                <div class="col-lg-10">
                  <input formControlName="password" type="password" class="form-control" id="inputPassword" placeholder="Password">
                </div>
              </div>
              <div class="col-sm-12" *ngIf="messageError!==''">
                <div class="alert alert-dismissible alert-danger">
                  <button type="button" class="close" data-dismiss="alert">Ã—</button>
                  <strong>Oh snap!</strong> {{messageError}}
                </div>
              </div>
              <div class="col-sm-12">
                <button [disabled]="form.invalid" type="button" class="btn btn-primary submit-button pull-right" (click)="login()">Submit</button>
              </div>
            </fieldset>
          </form>
        </div>
      </div>
    </div>
  </div>
  <ng-template #loggedin>
    <div class="row flex-container align-end">
      <div class="col-sm-8 col-sm-offset-1">
        <h2>Bem vindo {{(user|async)?.displayName}}!</h2>
      </div>
      <div class="col-sm-2">
        <button type="button" class="btn btn-primary submit-button margin-bottom-1" (click)="logout()">Logout</button>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <a routerLink="admin/adicionar" routerLinkActive="active">Adicionar prograna</a>
      </div>
    </div>
    <hr/>


  </ng-template>
</div>
<!--<router-outlet></router-outlet>-->
<ng-template #loading>
  Carregando
</ng-template>

<div class="margin-top-1">
  <router-outlet></router-outlet>
</div>
<p-growl [(value)]="msgs"></p-growl>
